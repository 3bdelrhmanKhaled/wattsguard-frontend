<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WattsGuard - دليل الاستخدام</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <style>
        body { font-family: 'Cairo', sans-serif; background-color: #f8f9fa; }
        .card { border: 2px solid #4E5F53; border-radius: 10px; }
        h1, h3 { color: #4E5F53; }
        .btn-primary { background-color: #4E5F53; border-color: #4E5F53; }
        .btn-primary:hover { background-color: #3b4a40; border-color: #3b4a40; }
        .alert-info { background-color: #e6f3e9; border-color: #4E5F53; }
        .list-group-item { border: none; }
    </style>
</head>
<body>
    <div class="container my-5">
        <div class="card p-4 shadow-sm">
            <div class="card-body">
                <h1 class="text-center mb-4"><i class="fas fa-bolt me-2"></i> دليل استخدام نظام WattsGuard</h1>

                <div class="alert alert-info">
                    <h4><i class="fas fa-info-circle me-2"></i> نظرة عامة على النظام</h4>
                    <p>
                        نظام <strong>WattsGuard</strong> هو حل ذكي لإدارة الشبكة الكهربائية الوطنية في مصر، يهدف إلى تقليل سرقة الكهرباء وتعزيز الكفاءة الاقتصادية. يعتمد النظام على تقنيات إنترنت الأشياء (IoT) والذكاء الاصطناعي (AI) لمراقبة الاستهلاك الكهربائي، اكتشاف الأنماط غير الطبيعية، وتوزيع الاستهلاك بذكاء بناءً على ميزانية المستخدم، مما يقلل الخسائر بنسبة تصل إلى 20% ويحسن استقرار الشبكة.
                    </p>
                </div>

                <h3 class="mt-4"><i class="fas fa-cogs me-2"></i> مكونات النظام</h3>
                <ul class="list-group mt-3">
                    <li class="list-group-item"><strong>عدادات ذكية:</strong> تجمع بيانات الاستهلاك في الوقت الفعلي وترسلها إلى قاعدة بيانات مركزية.</li>
                    <li class="list-group-item"><strong>مستشعرات متقدمة:</strong> تراقب تدفق الكهرباء وتكتشف التغيرات المفاجئة التي قد تشير إلى السرقة.</li>
                    <li class="list-group-item"><strong>وحدة معالجة (AI):</strong> تحلل البيانات باستخدام خوارزميات الذكاء الاصطناعي لاكتشاف الأنشطة غير القانونية.</li>
                    <li class="list-group-item"><strong>نظام الجدولة الذكية:</strong> يوزع أوقات تشغيل الأجهزة بناءً على ميزانية المستخدم وأولويات الأجهزة.</li>
                    <li class="list-group-item"><strong>نظام تنبيه فوري:</strong> يرسل إشعارات فورية إلى مراكز التحكم عند اكتشاف سرقة.</li>
                    <li class="list-group-item"><strong>واجهة مستخدم تفاعلية:</strong> تتيح مراقبة الاستهلاك وإدارة الأجهزة بسهولة.</li>
                </ul>

                <h3 class="mt-4"><i class="fas fa-play-circle me-2"></i> كيفية استخدام النظام</h3>
                <ol class="mt-3">
                    <li>افتح صفحة <code>Login.html</code> في متصفح الويب.</li>
                    <li>سجل الدخول باستخدام بياناتك الشخصية.</li>
                    <li>أو أنشئ حسابًا جديدًا عبر صفحة <code>Signup.html</code>.</li>
                    <li>استخدم الواجهة التفاعلية لمراقبة الاستهلاك، إدارة الأجهزة، أو تلقي تنبيهات حول السرقة.</li>
                    <li>للمسؤولين: انتقل إلى <code>Admin-home.html</code> للوصول إلى لوحة التحكم.</li>
                </ol>

                <h3 class="mt-4"><i class="fas fa-lightbulb me-2"></i> فوائد النظام</h3>
                <ul class="list-group mt-3">
                    <li class="list-group-item"><strong>للمستخدمين:</strong>
                        <ul>
                            <li>التحكم في الميزانية: حدد ميزانية شهرية (مثل 300 جنيه) لتوزيع الاستهلاك بذكاء.</li>
                            <li>توفير التكاليف: شغّل الأجهزة في أوقات الذروة المنخفضة لتقليل الفاتورة.</li>
                            <li>واجهة سهلة: تطبيق هاتف أو واجهة ويب لمراقبة الاستهلاك واقتراحات فورية.</li>
                        </ul>
                    </li>
                    <li class="list-group-item"><strong>للشبكة الكهربائية:</strong>
                        <ul>
                            <li>تقليل سرقة الكهرباء من خلال الكشف الفوري.</li>
                            <li>تحسين الكفاءة الاقتصادية بتقليل الخسائر بنسبة 20-30%.</li>
                            <li>تعزيز استقرار الشبكة وتقليل الانقطاعات.</li>
                        </ul>
                    </li>
                </ul>

                <h3 class="mt-4"><i class="fas fa-exclamation-triangle me-2"></i> ملاحظات تقنية</h3>
                <ul class="list-group mt-3">
                    <li class="list-group-item">التكامل مع واجهات برمجة التطبيقات (API) يتم باستخدام JavaScript.</li>
                    <li class="list-group-item">بيانات المصادقة تُخزن في الت readjustedخزين المحلي للمتصفح.</li>
                    <li class="list-group-item">يمكن تخصيص الواجهة عبر تعديل ملفات CSS في مجلد <code>css</code>.</li>
                    <li class="list-group-item">يُوصى بتحديث كلمات المرور الافتراضية بعد التثبيت.</li>
                </ul>

                <div class="text-center mt-5">
                    <a href="Login.html" class="btn btn-primary btn-lg">
                        <i class="fas fa-sign-in-alt me-2"></i> ابدأ الآن
                    </a>
                </div>
            </div>
        </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.min.js"></script>
    <script src="js/api.js"></script>
    <script src="js/auth.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // التحقق من تسجيل الدخول
            if (!window.auth.isLoggedIn()) {
                window.location.href = 'Login.html';
                return;
            }

            try {
                // الحصول على بيانات المستخدم
                const user = window.auth.getUser();
                
                // التحقق من صلاحيات المدير
                if (user.counterId !== '0') {
                    // المستخدم ليس لديه صلاحيات المدير
                    window.location.href = 'newcopy.html';
                    return;
                }

                // إعادة التوجيه إلى صفحة إدارة المدير
                window.location.href = 'Admin-home.html';
            } catch (error) {
                console.error('خطأ في التحقق من صلاحيات المدير:', error);
                window.location.href = 'Login.html';
            }
        });
    </script>
</body>
</html>